USE aoa;

-- 标签管理表
DROP TABLE IF EXISTS `tag`;

CREATE TABLE `tag` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '标签ID',
  `name` varchar(100) NOT NULL COMMENT '标签名称',
  `mac_address` varchar(20) NOT NULL COMMENT 'MAC地址',
  `model` varchar(50) DEFAULT NULL COMMENT '标签型号',
  `firmware_version` varchar(50) DEFAULT NULL COMMENT '固件版本',
  `map_id` bigint(20) DEFAULT NULL COMMENT '地图ID',
  `rssi` int(11) DEFAULT NULL COMMENT 'RSSI信号强度',
  `position_x` double DEFAULT NULL COMMENT 'X坐标',
  `position_y` double DEFAULT NULL COMMENT 'Y坐标',
  `position_z` double DEFAULT NULL COMMENT 'Z坐标',
  `battery_level` int(11) DEFAULT NULL COMMENT '电量百分比',
  `status` tinyint(1) DEFAULT '0' COMMENT '标签状态：0-离线，1-在线',
  `last_seen` datetime DEFAULT NULL COMMENT '最后可见时间',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `remark` varchar(500) DEFAULT NULL COMMENT '备注',
  PRIMARY KEY (`id`),
  UNIQUE KEY `idx_tag_mac_address` (`mac_address`),
  KEY `idx_tag_map_id` (`map_id`)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='标签管理';

LOCK TABLES `tag` WRITE;
set autocommit=0;

-- 样例数据 (MAC地址格式与JSON文件保持一致)
INSERT INTO `tag` (`name`, `mac_address`, `model`, `firmware_version`, `map_id`, `rssi`, `position_x`, `position_y`, `position_z`, `battery_level`, `status`, `last_seen`, `create_time`, `remark`) VALUES
('智能小车','84fd27eee603','WT-01','v2.1.1',3,-78,1.606817687012868,2.1136482561838386,0,94,1,'2025-10-23 11:07:52','2023-08-10 09:15:00',''),
('设备标签-AGV01','84fd27eee604','WT-01','v2.0.3',1,-72,15.8,30.2,0.5,60,0,'2023-10-15 14:35:10','2023-08-12 11:20:00','AGV小车使用的标签'),
('访客标签-001','84FD27EEE605','WT-01','v2.1.0',2,-80,25.4,40.8,1.2,30,0,'2023-10-14 16:45:10','2023-09-05 14:30:00','用于访客临时使用'),
('测试标签-001','4789437959BE','WT-01','v2.1.0',1,-75,0,0,1,80,0,'2025-10-13 03:18:55','2025-10-13 03:18:55','用于测试的标签，对应test.json数据'),
('841b','ac233fac841b','WT-01','v2.1.1',2,-80,5.0415244681854405,-9.572216182927008,0,80,0,'2025-10-21 18:35:59','2025-10-14 17:18:11',''),
('841d','ac233fac841d','WT-01','v2.1.1',2,-80,4.607022102653615,-9.328013489034795,0,80,0,'2025-10-21 18:35:59','2025-10-14 17:18:20',''),
('841e','ac233fac841e','WT-01','v2.1.1',2,-80,4.379013482477746,-9.62893009658218,0,80,0,'2025-10-21 18:35:59','2025-10-14 17:38:40',''),
('8425','ac233fac8425','WT-01','v2.1.1',2,-80,5.56339825930198,-9.28276477884659,0,80,0,'2025-10-21 18:35:59','2025-10-14 18:47:04',''),
('8426','ac233fac8426','WT-01','v2.1.1',2,-80,4.405319939769792,-6.403004309636259,0,80,0,'2025-10-21 18:35:59','2025-10-14 18:47:13',''),
('847b','ac233fac847b','WT-01','v2.1.1',2,-80,4.680970133539296,-8.695043474983699,0,80,0,'2025-10-21 18:35:59','2025-10-14 18:47:28',''),
('84c9','ac233fac84c9','WT-01','v2.1.1',2,-80,5.178806762097885,-8.988293678079982,0,80,0,'2025-10-21 18:35:59','2025-10-14 18:47:36',''),
('843b','ac233fac843b','WT-01','v2.1.1',1,-80,4.045452928975911,-6.331369020963698,0,80,1,'2025-10-23 11:07:52','2025-10-20 11:11:24',''),
('8432','ac233fac8432','WT-01','v2.1.1',1,-80,4.592791266994765,-7.373526161270759,0,80,1,'2025-10-23 11:07:52','2025-10-20 11:11:34',''),
('8121','ac233fab8121','WT-01','v2.1.1',1,-80,2.9992142146517904,-6.318360657056716,0,80,1,'2025-10-23 11:07:52','2025-10-20 11:12:04',''),
('848f','ac233fac848f','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,'2025-10-21 10:08:24','2025-10-21 10:08:24',''),
('849d','ac233fac849d','WT-01','v2.1.1',1,-80,7.316132124068024,1.2552035747704795,0,80,1,'2025-10-23 11:07:38','2025-10-21 10:08:34',''),
('8492','ac233fac8492','WT-01','v2.1.1',1,-80,2.7319058801389073,-6.856886688752316,0,80,0,'2025-10-21 16:49:19','2025-10-21 10:08:44',''),
('84a0','ac233fac84a0','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,'2025-10-21 10:08:53','2025-10-21 10:08:53',''),
('8489','ac233fac8489','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,'2025-10-21 10:09:13','2025-10-21 10:09:13',''),
('8486','ac233fac8486','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,'2025-10-21 10:09:23','2025-10-21 10:09:23',''),
('8491','ac233fac8491','WT-01','v2.1.1',1,-80,4.230077297549122,-6.548357038479788,0,80,1,'2025-10-23 11:07:52','2025-10-21 10:09:32',''),
('842e','ac233fac842e','WT-01','v2.1.1',1,-80,4.326510721876803,-6.267920281375844,0,80,0,'2025-10-23 11:03:24','2025-10-21 10:09:45',''),
('8498','ac233fac8498','WT-01','v2.1.1',1,-80,4.096339445960027,-6.887535967313402,0,80,1,'2025-10-23 11:07:52','2025-10-21 10:09:55',''),
('843a','ac233fac843a','WT-01','v2.1.1',1,-80,4.599758544258883,-6.4989338762526945,0,80,1,'2025-10-23 11:07:52','2025-10-21 10:10:13',''),
('842d','ac233fac842d','WT-01','v2.1.1',1,-80,3.9363867029696733,-6.462560898994369,0,80,1,'2025-10-23 11:07:52','2025-10-21 10:10:23',''),
('8497','ac233fac8497','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,'2025-10-21 10:10:37','2025-10-21 10:10:37',''),
('840a','ac233fac840a','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,'2025-10-21 10:10:50','2025-10-21 10:10:50',''),
('849e','ac233fac849e','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,'2025-10-21 10:10:59','2025-10-21 10:10:59',''),
('8431','ac233fac8431','WT-01','v2.1.1',1,-80,4.603832622565961,-7.133345540831393,0,80,1,'2025-10-23 11:07:52','2025-10-21 10:11:19',''),
('8434','ac233fac8434','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,'2025-10-21 10:11:28','2025-10-21 10:11:28',''),
('8437','ac233fac8437','WT-01','v2.1.1',1,-80,4.672970720821391,-6.333494307899214,0,80,1,'2025-10-23 11:07:52','2025-10-21 10:11:38',''),
('8438','ac233fac8438','WT-01','v2.1.1',1,-80,3.6283335219816664,-6.047420420601109,0,80,1,'2025-10-23 11:07:52','2025-10-21 10:11:48',''),
('8495','ac233fac8495','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,'2025-10-21 10:11:58','2025-10-21 10:11:58',''),
('843d','ac233fac843d','WT-01','v2.1.1',1,-80,4.4305842915377625,-6.826366143009432,0,80,1,'2025-10-23 11:07:52','2025-10-21 10:12:06',''),
('8430','ac233fac8430','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,'2025-10-21 10:12:15','2025-10-21 10:12:15',''),
('8411','ac233fac8411','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,'2025-10-21 10:12:23','2025-10-21 10:12:23',''),
('848a','ac233fac848a','WT-01','v2.1.1',1,-80,4.317933231315468,-6.51045911820087,0,80,1,'2025-10-23 11:07:51','2025-10-21 10:12:35',''),
('8494','ac233fac8494','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,'2025-10-21 10:12:51','2025-10-21 10:12:51',''),
('8439','ac233fac8439','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,'2025-10-21 10:13:02','2025-10-21 10:13:02',''),
('8496','ac233fac8496','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,'2025-10-21 10:13:12','2025-10-21 10:13:12',''),
('848e','ac233fac848e','WT-01','v2.1.1',1,-80,4.767337142791363,-6.606111061385409,0,80,0,'2025-10-21 10:44:08','2025-10-21 10:13:21',''),
('8433','ac233fac8433','WT-01','v2.1.1',1,-80,3.9586673796068816,-7.130401223073858,0,80,1,'2025-10-23 11:07:52','2025-10-21 10:13:31',''),
('842a','ac233fac842a','WT-01','v2.1.1',1,-80,4.494003071645679,-6.980588198040666,0,80,1,'2025-10-23 11:07:52','2025-10-21 10:13:42',''),
('842c','ac233fac842c','WT-01','v2.1.1',1,-80,3.995508960592751,-6.5369619571987885,0,80,1,'2025-10-23 11:07:52','2025-10-21 10:14:02',''),
('842b','ac233fac842b','WT-01','v2.1.1',1,-80,4.082438199616474,-7.042542113578347,0,80,1,'2025-10-23 11:07:52','2025-10-21 10:14:11',''),
('8415','ac233fac8415','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,'2025-10-21 10:14:20','2025-10-21 10:14:20',''),
('840f','ac233fac840f','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,'2025-10-21 10:14:30','2025-10-21 10:14:30',''),
('842f','ac233fac842f','WT-01','v2.1.1',1,-80,3.8487989913061624,-6.599106296097941,0,80,1,'2025-10-23 11:07:52','2025-10-21 10:14:39',''),
('843c','ac233fac843c','WT-01','v2.1.1',1,-80,3.0120409336801557,-8.697130726627835,0,80,0,'2025-10-21 10:16:58','2025-10-21 10:14:58',''),
('849f','ac233fac849f','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,'2025-10-21 10:15:19','2025-10-21 10:15:19',''),
('8122','ac233fab8122','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,'2025-10-21 16:37:00','2025-10-21 16:37:00',''),
('8490','ac233fac8490','WT-01','v2.1.1',1,-80,4.003452716885912,-6.61091332796384,0,80,0,'2025-10-21 16:41:31','2025-10-21 16:38:52',''),
('80fc','ac233fab80fc','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,NOW(),NOW(),''),
('8405','ac233fac8405','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,NOW(),NOW(),''),
('840d','ac233fac840d','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,NOW(),NOW(),''),
('8413','ac233fac8413','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,NOW(),NOW(),''),
('8406','ac233fac8406','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,NOW(),NOW(),''),
('8407','ac233fac8407','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,NOW(),NOW(),''),
('8403','ac233fac8403','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,NOW(),NOW(),''),
('8408','ac233fac8408','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,NOW(),NOW(),''),
('8410','ac233fac8410','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,NOW(),NOW(),''),
('840e','ac233fac840e','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,NOW(),NOW(),''),
('840c','ac233fac840c','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,NOW(),NOW(),''),
('8409','ac233fac8409','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,NOW(),NOW(),''),
('8414','ac233fac8414','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,NOW(),NOW(),''),
('8412','ac233fac8412','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,NOW(),NOW(),''),
('8402','ac233fac8402','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,NOW(),NOW(),''),
('840b','ac233fac840b','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,NOW(),NOW(),''),
('84ae','ac233fac84ae','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,NOW(),NOW(),''),
('84b5','ac233fac84b5','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,NOW(),NOW(),''),
('84af','ac233fac84af','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,NOW(),NOW(),''),
('84b0','ac233fac84b0','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,NOW(),NOW(),''),
('84a5','ac233fac84a5','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,NOW(),NOW(),''),
('84a6','ac233fac84a6','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,NOW(),NOW(),''),
('84b4','ac233fac84b4','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,NOW(),NOW(),''),
('84a7','ac233fac84a7','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,NOW(),NOW(),''),
('84b3','ac233fac84b3','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,NOW(),NOW(),''),
('84aa','ac233fac84aa','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,NOW(),NOW(),''),
('84ac','ac233fac84ac','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,NOW(),NOW(),''),
('84b2','ac233fac84b2','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,NOW(),NOW(),''),
('84a8','ac233fac84a8','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,NOW(),NOW(),''),
('84a4','ac233fac84a4','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,NOW(),NOW(),''),
('8481','ac233fac8481','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,NOW(),NOW(),''),
('84a2','ac233fac84a2','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,NOW(),NOW(),''),
('84a9','ac233fac84a9','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,NOW(),NOW(),''),
('84a3','ac233fac84a3','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,NOW(),NOW(),''),
('8450','ac233fac8450','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,NOW(),NOW(),''),
('8444','ac233fac8444','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,NOW(),NOW(),''),
('847d','ac233fac847d','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,NOW(),NOW(),''),
('8447','ac233fac8447','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,NOW(),NOW(),''),
('8440','ac233fac8440','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,NOW(),NOW(),''),
('8441','ac233fac8441','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,NOW(),NOW(),''),
('844d','ac233fac844d','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,NOW(),NOW(),''),
('843f','ac233fac843f','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,NOW(),NOW(),''),
('843e','ac233fac843e','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,NOW(),NOW(),''),
('8446','ac233fac8446','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,NOW(),NOW(),''),
('8445','ac233fac8445','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,NOW(),NOW(),''),
('8451','ac233fac8451','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,NOW(),NOW(),''),
('8449','ac233fac8449','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,NOW(),NOW(),''),
('844b','ac233fac844b','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,NOW(),NOW(),''),
('80fb','ac233fab80fb','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,NOW(),NOW(),'');
-- ('标签名称','标签MAC','WT-01','v2.1.1',NULL,NULL,NULL,NULL,NULL,NULL,0,NOW(),NOW(),''),

UNLOCK TABLES;
commit;
